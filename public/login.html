<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bitfreeze â€” Login</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
:root {
  --bg: #0b0f14;
  --card: rgba(15, 22, 32, 0.9);
  --accent: #ff8a00;
  --accent-dark: #e67e00;
  --accent-light: rgba(255,138,0,0.1);
  --muted: #9aa6b2;
  --text-primary: #e6eef6;
  --text-secondary: #b0c4de;
  --shadow: rgba(0,0,0,0.5);
  --border: rgba(255,255,255,0.08);
}
body {
  margin:0; padding:0; font-family:'Inter',sans-serif; background: linear-gradient(135deg,#121a26,#070b11); color: var(--text-primary);
  display:flex; justify-content:center; align-items:center; min-height:100vh;
}
.container {
  width:100%; max-width:400px; background:var(--card); padding:32px; border-radius:16px; box-shadow:0 8px 32px var(--shadow);
  border:1px solid var(--border);
}
h1 {
  text-align:center; color: var(--accent); margin-bottom:24px; font-size:28px;
}
form input, form button {
  width:100%; padding:14px; margin:10px 0; border-radius:8px; border:1px solid var(--border); font-size:14px;
}
form input {
  background: rgba(255,255,255,0.05); color: var(--text-primary);
  outline:none; transition: all 0.3s ease;
}
form input:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-light);
}
form button {
  background: linear-gradient(135deg,var(--accent),#ffb347); color:#111; font-weight:600; cursor:pointer; border:none;
  transition: all 0.3s ease; margin-top:16px;
}
form button:hover {
  background: var(--accent-dark);
  transform:translateY(-2px);
}
.message { text-align:center; margin-top:12px; font-size:14px; }
.links { text-align:center; margin-top:20px; font-size:14px; }
.links a { display:block; margin:4px 0; color: var(--accent); text-decoration:none; transition:0.3s; }
.links a:hover { text-decoration:underline; color: var(--accent-dark); }
</style>
</head>
<body>
<div class="container">
  <h1><i class="fas fa-snowflake"></i> Bitfreeze Login</h1>
  <form id="loginForm">
    <input type="email" id="email" placeholder="Email Address" required>
    <input type="password" id="password" placeholder="Password" required>
    <button type="submit"><i class="fas fa-sign-in-alt"></i> Login</button>
    <div class="message" id="msg"></div>
  </form>
  <p style="text-align:center; margin-top:16px;">Don't have an account? <a href="register.html">Register here</a></p>
  <div class="links">
    <a href="policy.html" target="_blank">ðŸ“œ See Policy</a>
    <a href="https://chat.whatsapp.com/yourgroup" target="_blank">ðŸ’¬ Join WhatsApp Group</a>
    <a href="how-it-works.html" target="_blank">ðŸ“˜ How Bitfreeze Works</a>
    <a href="history.html" target="_blank">ðŸ•’ Bitfreeze History</a>
  </div>
</div>

<script>
const DOMAIN = 'http://localhost:3000';
document.getElementById('loginForm').addEventListener('submit', async e => {
  e.preventDefault();
  const msgEl = document.getElementById('msg');
  msgEl.textContent = '';
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value.trim();

  if(!email || !password){
    msgEl.textContent = 'Email and password are required.';
    msgEl.style.color='#f44336'; return;
  }

  try{
    const res = await fetch(DOMAIN + '/api/login', {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ email, password })
    });
    const data = await res.json();
    if(res.ok){
      localStorage.setItem('bf_token', data.token);
      msgEl.textContent = 'Login successful! Redirecting...';
      msgEl.style.color='#4caf50';
      setTimeout(()=>{ location.href='dashboard.html'; },1000);
    } else {
      msgEl.textContent = data.error || 'Login failed';
      msgEl.style.color='#f44336';
    }
  }catch(err){
    msgEl.textContent = 'Network error: '+err.message;
    msgEl.style.color='#f44336';
  }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
</body>
</html>
